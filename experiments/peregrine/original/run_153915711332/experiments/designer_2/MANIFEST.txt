================================================================================
DESIGNER 2: BAYESIAN TIME SERIES MODELS FOR EXTREME AUTOCORRELATION
Temporal Structure & Trend Specification Specialist
================================================================================

CREATION DATE: 2025-10-29
STATUS: COMPLETE - READY FOR IMPLEMENTATION
LOCATION: /workspace/experiments/designer_2/

================================================================================
DELIVERABLE SUMMARY
================================================================================

Total Documents: 7 markdown files + 1 manifest
Total Size: 128 KB
Total Lines: 2,927 lines of documentation
Estimated Read Time: 60-90 minutes (full suite)
Implementation Time: 5-7 hours (basic) + 2-3 hours per variant

================================================================================
FILE LISTING
================================================================================

1. README.md (8 KB, 224 lines)
   - Entry point and quick reference
   - 3-minute read
   - Model summary table
   - Key parameter ranges

2. EXECUTIVE_SUMMARY.md (12 KB, 276 lines)
   - High-level overview for stakeholders
   - 5-minute read
   - Expected outcomes with confidence levels
   - Key innovations in design

3. IMPLEMENTATION_GUIDE.md (17 KB, 598 lines)
   - Step-by-step practical instructions
   - 10-15 minute read (reference during coding)
   - Complete Python/Stan code snippets
   - Troubleshooting guide
   - Phase-by-phase workflow

4. design_summary.md (10 KB, 278 lines)
   - Quick reference during analysis
   - 7-10 minute read
   - Decision trees and falsification criteria
   - Implementation roadmap
   - Success/failure scenarios

5. model_comparison_matrix.md (13 KB, 247 lines)
   - Side-by-side detailed comparison
   - 12-15 minute read
   - Feature-by-feature tables
   - Expected parameter ranges
   - Stress test matrix

6. proposed_models.md (35 KB, 877 lines) ⭐ MAIN DOCUMENT
   - Complete technical specification
   - 25-30 minute read (reference, not linear)
   - Full mathematical specifications
   - Stan code skeletons (ready to use)
   - Comprehensive falsification strategy
   - Model variants and escape routes

7. TABLE_OF_CONTENTS.md (17 KB, 427 lines)
   - Navigation guide for all documents
   - Reading paths by role (analyst, PI, reviewer)
   - Content index by topic
   - Implementation checklist

8. MANIFEST.txt (this file)
   - Document inventory
   - Quick start guide
   - Key information summary

================================================================================
THREE PROPOSED BAYESIAN MODELS
================================================================================

MODEL 1: DYNAMIC STATE-SPACE (PRIORITY: ⭐⭐⭐)
────────────────────────────────────────────
Hypothesis: Near-perfect autocorrelation (0.989) indicates latent random walk
           with drift, not cross-sectional GLM

Structure:  C_t ~ NegativeBinomial(exp(η_t), φ)
           η_t = η_{t-1} + δ + β·year_t + ε_t
           ε_t ~ Normal(0, σ²_η)

Key Params: δ (drift) ≈ 0.04-0.08
           σ_η (innovation SD) ≈ 0.05-0.12
           φ (dispersion) ≈ 10-20

Expected:   LOO-ELPD ≈ -150
           Residual ACF(1) ≈ 0.18
           One-step-ahead coverage ≈ 82%

Abandon If: σ²_η ≈ total variance (no benefit from latent state)
           Residual ACF > 0.5 (temporal structure not captured)
           One-step-ahead coverage < 75%


MODEL 2: CHANGEPOINT REGIME SHIFT (PRIORITY: ⭐⭐)
───────────────────────────────────────────────
Hypothesis: CUSUM minimum at year ≈ 0.3 indicates discrete structural break

Structure:  C_t ~ NegativeBinomial(μ_t, φ)
           log(μ_t) = β_0 + β_1·year + β_2·I(year≥τ) + β_3·(year-τ)·I(year≥τ)

Key Params: τ (changepoint) ≈ 0.2-0.4
           β_2 (level shift) ≈ 0.4-1.2
           β_3 (slope change) ≈ 0.2-0.8

Expected:   LOO-ELPD ≈ -155
           τ posterior narrow (SD < 0.3)

Abandon If: τ posterior uniform (no preferred location)
           β_2 and β_3 both include zero
           Smooth models fit better (ΔLOO > 10)


MODEL 3: GAUSSIAN PROCESS NONPARAMETRIC (PRIORITY: ⭐⭐)
────────────────────────────────────────────────────
Hypothesis: Neither parametric form is correct; growth is smooth but complex

Structure:  C_t ~ NegativeBinomial(exp(f_t), φ)
           f ~ GP(β_0 + β_1·year, k(year, year'))
           k = α² · exp(-(year_i - year_j)² / (2ℓ²))

Key Params: ℓ (lengthscale) ≈ 0.3-1.0
           α (marginal variance) ≈ 0.3-0.8
           φ (dispersion) ≈ 8-20

Expected:   LOO-ELPD ≈ -152
           Smooth function, no discontinuities

Abandon If: ℓ → ∞ (equivalent to linear)
           Parametric model fits equivalently (ΔLOO < 5)
           GP shows discontinuities (changepoint better)

================================================================================
DECISION FRAMEWORK
================================================================================

Model Selection:
  1. Fit all three models in Stan (4 chains × 4000 iterations)
  2. Check convergence: R-hat < 1.01, ESS > 400
  3. Compute LOO-ELPD for comparison
  4. Apply decision rules:
     - ΔLOO > 10: Clear winner → Validate → Report
     - ΔLOO < 4: Equivalent → Use Bayesian Model Averaging
     - All fail diagnostics: PIVOT to alternative model classes

Validation Criteria (ALL must pass):
  ✓ Residual ACF(1) < 0.3
  ✓ 80% prediction interval coverage: 75-85%
  ✓ Posterior predictive p-values: 0.05-0.95
  ✓ Parameters in plausible ranges

Red Flags (STOP if any occur):
  ✗ φ → 0 (contradicts overdispersion in EDA)
  ✗ φ → ∞ (distribution family wrong)
  ✗ All models show ACF > 0.6 (none capture temporal structure)
  ✗ Prior-posterior overlap > 80% (data not informative)

================================================================================
DATA INFORMATION
================================================================================

Location: /workspace/data/data_designer_2.csv
EDA Report: /workspace/eda/eda_report.md

Summary:
  - n = 40 observations
  - Variables: year (standardized time), C (count outcome)
  - Range: C ∈ [19, 272], year ∈ [-1.67, 1.67]

Key Findings:
  - Extreme overdispersion: Var/Mean = 67.99
  - Massive autocorrelation: ACF(1) = 0.989
  - Strong growth: 8.45× increase (29 → 245)
  - Lag-1 R²: 0.977 (C_t ≈ C_{t-1})
  - Possible changepoint: year ≈ 0.3

================================================================================
QUICK START GUIDE
================================================================================

For Implementers:
  1. Read README.md (3 minutes)
  2. Read IMPLEMENTATION_GUIDE.md (15 minutes)
  3. Copy Stan code from proposed_models.md Appendix
  4. Follow Phase 1-5 in IMPLEMENTATION_GUIDE.md
  5. Expected time: 5-7 hours for basic analysis

For Reviewers:
  1. Read EXECUTIVE_SUMMARY.md (5 minutes)
  2. Skim model_comparison_matrix.md (10 minutes)
  3. Review proposed_models.md sections 3-5 (20 minutes)
  4. Total: ~35 minutes for thorough evaluation

For PIs/Stakeholders:
  1. Read EXECUTIVE_SUMMARY.md (5 minutes)
  2. Check "Expected Outcome" section
  3. Review model_comparison_matrix.md "Interpretability" section
  4. Total: ~10 minutes for overview

For Future Reference:
  1. Use TABLE_OF_CONTENTS.md to navigate
  2. Quick lookups: design_summary.md
  3. Deep dive: proposed_models.md

================================================================================
KEY INNOVATIONS
================================================================================

1. COMPETING HYPOTHESES APPROACH
   - Three fundamentally different mechanisms tested
   - Forces thinking about data generation process
   - Not just variants of same model

2. FALSIFICATION-FIRST MINDSET
   - Each model has explicit abandonment criteria
   - Success = discovering which models are wrong
   - Prevents confirmation bias

3. TEMPORAL STRUCTURE AS PRIMARY SIGNAL
   - ACF(1) = 0.989 recognized as dominant feature
   - Time series methods, not just GLM with time covariate
   - Explicit modeling of autocorrelation

4. OVERDISPERSION DECOMPOSITION
   - Separates temporal correlation from intrinsic overdispersion
   - State-space model decomposes variance into components
   - Reveals that naive Var/Mean conflates mechanisms

5. EXPLICIT ESCAPE ROUTES
   - Model variants if primary versions fail
   - Decision trees for when to pivot
   - Red flags that trigger stopping rules
   - Stress tests designed to break assumptions

================================================================================
EXPECTED OUTCOME
================================================================================

Most Likely (60% confidence): Model 1 (State-Space) wins

Reasoning:
  The ACF(1) = 0.989 is the strongest signal in the data. This is classic
  autoregressive behavior. The lag-1 R² of 0.977 means C_t is almost perfectly
  predicted by C_{t-1}. This screams "time series process, not cross-sectional."

Expected Results:
  - LOO-ELPD ≈ -150, ΔLOO ≈ 12 over others
  - δ ≈ 0.061 [0.042, 0.078] (6% growth per period)
  - σ_η ≈ 0.076 [0.050, 0.110] (small innovations)
  - φ ≈ 14.3 [10.2, 21.7] (moderate after temporal correlation)
  - Residual ACF(1) ≈ 0.18
  - One-step-ahead coverage ≈ 82%

Scientific Interpretation:
  "Data are best explained by a random walk with positive drift. The system
   grows at ~6% per period (exponential), with small random fluctuations.
   After accounting for temporal correlation, residual overdispersion is
   moderate (φ ≈ 14), much less than the unconditional estimate (68).
   This suggests most apparent overdispersion is actually temporal correlation."

Alternative Scenario (25% confidence): Models equivalent
  - All within LOO-ELPD 4 of each other
  - Use Bayesian Model Averaging
  - Report mechanistic uncertainty

Surprise Scenario (15% confidence): Model 2 or 3 wins
  - Would require strong evidence
  - Model 2: Changepoint is real and substantial
  - Model 3: Truth more complex than parametric forms

================================================================================
IMPLEMENTATION RESOURCES
================================================================================

Stan Code:
  - Three complete .stan skeletons in proposed_models.md Appendix
  - Ready to save and compile
  - Include non-centered parameterizations

Python Code:
  - Fitting examples in IMPLEMENTATION_GUIDE.md Phase 1
  - LOO comparison in Phase 2
  - Diagnostics in Phase 3
  - Visualization in Phase 5

Troubleshooting:
  - Divergences: IMPLEMENTATION_GUIDE.md troubleshooting section
  - Poor convergence: Check non-centered parameterizations
  - Poor fit: See falsification criteria, try variants

Expected Runtime:
  - Model 1: 5-10 minutes
  - Model 2: 2-5 minutes
  - Model 3: 3-8 minutes
  - Total: 10-25 minutes for all three

================================================================================
QUALITY ASSURANCE
================================================================================

Completeness:
  ✓ Full mathematical specifications
  ✓ Complete prior justifications
  ✓ Stan code ready to use
  ✓ Falsification criteria explicit
  ✓ Decision rules clear
  ✓ Troubleshooting guide included
  ✓ Expected outcomes documented

Consistency:
  ✓ All documents cross-referenced
  ✓ Parameter notation consistent
  ✓ Expected values aligned across documents
  ✓ No contradictions between files

Usability:
  ✓ Multiple entry points for different roles
  ✓ Clear navigation structure
  ✓ Code examples provided
  ✓ Troubleshooting readily available

Scientific Rigor:
  ✓ Competing hypotheses tested
  ✓ Falsification criteria explicit
  ✓ Honest uncertainty quantification
  ✓ Domain constraints considered
  ✓ Stress tests included

================================================================================
DESIGN PHILOSOPHY
================================================================================

"Truth over completion"
  - Goal is finding what generated the data, not finishing the task
  - If all models fail, that's valuable scientific discovery

"Falsification over confirmation"
  - Each model designed to be proven wrong
  - Success = correctly identifying inappropriate models

"Uncertainty over certainty"
  - Multiple plausible mechanisms → honest reporting
  - If models equivalent, use BMA, don't force winner

"Plan for failure"
  - Explicit criteria for when models are inadequate
  - Escape routes and alternative strategies documented
  - Stopping rules to prevent forcing conclusions

================================================================================
CONTACT AND SUPPORT
================================================================================

For questions about:
  - Implementation: See IMPLEMENTATION_GUIDE.md
  - Model details: See proposed_models.md
  - Decisions: See design_summary.md
  - Comparisons: See model_comparison_matrix.md
  - Navigation: See TABLE_OF_CONTENTS.md

If stuck:
  1. Check troubleshooting section
  2. Review expected values for sanity checks
  3. Consult falsification criteria
  4. Consider model variants

Remember:
  - Success = finding truth, not completing tasks
  - Failure of a model is scientific progress
  - Uncertainty is honest, not weakness

================================================================================
VERSION AND STATUS
================================================================================

Designer: Model Designer 2 (Temporal Structure & Trend Specification)
Creation Date: 2025-10-29
Status: COMPLETE - READY FOR IMPLEMENTATION
Quality: Comprehensive (128 KB, 2,927 lines, 7 documents + manifest)

All deliverables:
  ✓ Complete and internally consistent
  ✓ Cross-referenced for easy navigation
  ✓ Implementation-ready with code
  ✓ Falsification-focused with explicit criteria
  ✓ Production-quality documentation

Next Step: Begin implementation following IMPLEMENTATION_GUIDE.md

================================================================================
END OF MANIFEST
================================================================================

"The goal is truth, not task completion."

Good luck, and may your R-hats be less than 1.01.

================================================================================
